	.include "asm/macros.inc"
	.include "asm_1.inc"
	.include "global.inc"

	.text
	arm_func_start OS_GetDTCMAddress
OS_GetDTCMAddress: ; 0x0207B79C
	mrc p15, 0, r0, c9, c1, 0
	ldr r1, _0207B7AC ; =0xFFFFF000
	and r0, r0, r1
	bx lr
	.align 2, 0
_0207B7AC: .word 0xFFFFF000
	arm_func_end OS_GetDTCMAddress
_0207B7B0:
	.byte 0x10, 0x0F, 0x11, 0xEE, 0x01, 0x00, 0x80, 0xE3, 0x10, 0x0F, 0x01, 0xEE, 0x1E, 0xFF, 0x2F, 0xE1
	.byte 0x10, 0x0F, 0x11, 0xEE, 0x01, 0x00, 0xC0, 0xE3, 0x10, 0x0F, 0x01, 0xEE, 0x1E, 0xFF, 0x2F, 0xE1

	arm_func_start sub_0207B7D0
sub_0207B7D0: ; 0x0207B7D0
	stmdb sp!, {r3, lr}
	ldr r2, _0207B7E8 ; =0x0209B71C
	ldr r2, [r2, r0, lsl #2]
	mov r0, r1
	blx r2
	ldmia sp!, {r3, pc}
	.align 2, 0
_0207B7E8: .word 0x0209B71C
	arm_func_end sub_0207B7D0
_0207B7EC:
	.byte 0x10, 0x0F, 0x06, 0xEE
	.byte 0x1E, 0xFF, 0x2F, 0xE1, 0x11, 0x0F, 0x06, 0xEE, 0x1E, 0xFF, 0x2F, 0xE1, 0x12, 0x0F, 0x06, 0xEE
	.byte 0x1E, 0xFF, 0x2F, 0xE1, 0x13, 0x0F, 0x06, 0xEE, 0x1E, 0xFF, 0x2F, 0xE1, 0x14, 0x0F, 0x06, 0xEE
	.byte 0x1E, 0xFF, 0x2F, 0xE1, 0x15, 0x0F, 0x06, 0xEE, 0x1E, 0xFF, 0x2F, 0xE1, 0x16, 0x0F, 0x06, 0xEE
	.byte 0x1E, 0xFF, 0x2F, 0xE1, 0x17, 0x0F, 0x06, 0xEE, 0x1E, 0xFF, 0x2F, 0xE1, 0x10, 0x0F, 0x16, 0xEE
	.byte 0x1E, 0xFF, 0x2F, 0xE1, 0x11, 0x0F, 0x16, 0xEE, 0x1E, 0xFF, 0x2F, 0xE1, 0x12, 0x0F, 0x16, 0xEE
	.byte 0x1E, 0xFF, 0x2F, 0xE1, 0x13, 0x0F, 0x16, 0xEE, 0x1E, 0xFF, 0x2F, 0xE1, 0x14, 0x0F, 0x16, 0xEE
	.byte 0x1E, 0xFF, 0x2F, 0xE1, 0x15, 0x0F, 0x16, 0xEE, 0x1E, 0xFF, 0x2F, 0xE1, 0x16, 0x0F, 0x16, 0xEE
	.byte 0x1E, 0xFF, 0x2F, 0xE1, 0x17, 0x0F, 0x16, 0xEE, 0x1E, 0xFF, 0x2F, 0xE1

	arm_func_start OS_SetProtectionRegionEx
OS_SetProtectionRegionEx: ; 0x0207B86C
	stmdb sp!, {r3, lr}
	sub r3, r2, #0x16
	mov ip, #0x1000
	rsb ip, ip, #0
	mov r3, r3, lsr #1
	and r1, r1, ip, lsl r3
	orr r1, r2, r1
	orr r1, r1, #1
	bl sub_0207B7D0
	ldmia sp!, {r3, pc}
	arm_func_end OS_SetProtectionRegionEx

